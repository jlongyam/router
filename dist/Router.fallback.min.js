function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var Router=function(){"use strict";function a(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,a),this.map=c,window.addEventListener("hashchange",function(){return b._hash}),0<window.location.hash.length)return this._hash}return _createClass(a,[{key:"_exec",value:function(a,b,c){for(var d=Object.keys(this.map),e=0;e<d.length;e++)if(d[e]===a)if("undefined"!=typeof b){var f=":"+c.join("/:");this.map[a+f].apply(null,b)}else this.map[a].apply()}},{key:"_sort",value:function(a,b){for(var c=0;c<a.length;c++){var d=a[c].map,e=b.substring(d.length),f=a[c].variable;if(0===e.length)0===f.length&&this._exec(d);else if(0<f.length){var g=e.substring(0,e.length-1),h=g.split("/");h.length===f.length&&this._exec(d,h,f)}}}},{key:"_map",get:function(){for(var b=Object.keys(this.map),c=[],a=0;a<b.length;a++){for(var d=b[a].split(":"),e=d[0],f="/"==e.substring(e.length-1)?e:e+"/",g=[],h=0;h<d.length;h++)d[h]!==e&&g.push(d[h].replace("/",""));c.push({hash:b[a],base:f,variable:g})}return c}},{key:"_hash",get:function(){for(var b,c=decodeURI(window.location.hash),d=c.substring(c.length,c.length-1),e="/"===d?c:c+"/",f=[],a=0;a<this._map.length;a++)b=this._map[a].base,-1!=e.indexOf(b)&&f.push({map:b,variable:this._map[a].variable});return this._sort(f,e),{hash:c,normalize:e,match:f}}}]),a}();