class Router{constructor(a={}){if(this.map=a,window.addEventListener("hashchange",()=>this._hash),0<window.location.hash.length)return this._hash}_exec(a,b,c){for(var d=Object.keys(this.map),e=0;e<d.length;e++)if(d[e]===a)if("undefined"!=typeof b){var f=":"+c.join("/:");this.map[a+f].apply(null,b)}else this.map[a].apply()}_sort(a,b){for(var c=0;c<a.length;c++){var d=a[c].map,e=b.substring(d.length),f=a[c].variable;if(0===e.length)0===f.length&&this._exec(d);else if(0<f.length){var g=e.substring(0,e.length-1),h=g.split("/");h.length===f.length&&this._exec(d,h,f)}}}get _map(){const b=Object.keys(this.map);let c=[];for(var a=0;a<b.length;a++){for(var d=b[a].split(":"),e=d[0],f="/"==e.substring(e.length-1)?e:e+"/",g=[],h=0;h<d.length;h++)d[h]!==e&&g.push(d[h].replace("/",""));c.push({hash:b[a],base:f,variable:g})}return c}get _hash(){const b=decodeURI(window.location.hash);var c=b.substring(b.length,b.length-1),d="/"===c?b:b+"/";let e=[];for(var a,f=0;f<this._map.length;f++)a=this._map[f].base,-1!=d.indexOf(a)&&e.push({map:a,variable:this._map[f].variable});return this._sort(e,d),{hash:b,normalize:d,match:e}}}